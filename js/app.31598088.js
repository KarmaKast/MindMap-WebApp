(function(t){function e(e){for(var n,s,r=e[0],c=e[1],l=e[2],h=0,u=[];h<r.length;h++)s=r[h],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&u.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(u.length)u.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var c=i[r];0!==o[c]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},o={app:0},a=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/MindMap-WebApp/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"1d80e":function(t,e,i){"use strict";var n=i("5706"),o=i.n(n);o.a},"4a07":function(t,e,i){"use strict";var n=i("d5fe"),o=i.n(n);o.a},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),o=i("bc3a"),a=i.n(o),s=i("7591"),r=i.n(s),c=i("0086"),l=i.n(c),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:this.appStyle,attrs:{id:"app"}},["development"===t.APP_MODE?i("div",{style:{height:"400px",width:"100%",backgroundColor:"blue"}}):t._e(),i("div",{style:t.mindMapContainerStyle,attrs:{id:"mindMapContainer"}},[i("mind-map-module",{attrs:{entityLimit:t.entityLimit}})],1)])},h=[],u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MindMapModule",style:this.containerStyle},[t.canvasForceUpdate?t._e():i("mind-map-canvas",{attrs:{colors:this.colorsFinal,colorsProcessed:t.colorsProcessed,apiUrl:this.apiUrl,entities:t.entities,entityLimit:t.entityLimit,apiValidity:t.apiValidity,grid:t.grid},on:{"create-new-entity":t.createNewEntity,dropEntity:t.dropEntity}}),i("div",{staticClass:"debug",staticStyle:{display:"block",position:"relative",bottom:"0px",margin:"0px auto"},domProps:{innerHTML:t._s(this.debugMsg)}}),i("div",{style:{position:"absolute",top:"0px",left:"0px",height:"100%",width:"100%",pointerEvents:"none",borderRadius:"inherit"},attrs:{id:"UI"}},[i("div",{style:{position:"absolute",marginTop:"8px",marginLeft:"10px",zIndex:"unset"},attrs:{id:"mainMenu"}},[i("button",{style:t.burgerTimeButtonStyle,attrs:{id:"burgerTimeButton","aria-label":"burgerTimeButton"},on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.toggleMenu(e)}}},[i("icon-base",{attrs:{iconName:"Main Menu",iconColor:t.colorsProcessed["theme"]}},[i("icon-hamburger1")],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMenu,expression:"showMenu"}],style:this.menuItemsStyle,attrs:{id:"menuItems"}},[i("button-one",{style:{order:0},attrs:{validity:this.apiValidity,colors:t.colorsFinal,colorsProcessed:t.colorsProcessed}}),t._l(t.menuButtons,(function(e,n){return i("button-two",{key:n+1,style:{order:n},attrs:{colors:t.colorsFinal,colorsProcessed:t.colorsProcessed,buttonText:e["text"]},on:{takeAction:function(t){return e["action"].apply(e,e["args"])}}})}))],2)]),i("status-bar",{attrs:{colors:t.colorsFinal,colorsProcessed:t.colorsProcessed,apiUrl:t.apiUrl,apiValidity:t.apiValidity,showThemeToggle:!t.lockTheming,toggleCurrent:"theme_light"===t.CurrentTheme?"light":"dark"},on:{themeToggle:t.themeToggle}}),i("about-page",{attrs:{colors:t.colorsFinal,colorsProcessed:t.colorsProcessed,showPage:t.showAboutPage},on:{closePage:t.aboutPageDisplay}})],1)],1)},p=[],g=(i("99af"),i("4de4"),i("d81d"),i("a9e3"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"touch",rawName:"v-touch:moving",value:t.getMousePos,expression:"getMousePos",arg:"moving"},{name:"touch",rawName:"v-touch:end.prevent",value:t.deactivateAllEntities,expression:"deactivateAllEntities",arg:"end",modifiers:{prevent:!0}},{name:"touch",rawName:"v-touch:start.self",value:t.setCanvasDragging,expression:"setCanvasDragging",arg:"start",modifiers:{self:!0}},{name:"touch",rawName:"v-touch:end.self",value:t.setCanvasDragging,expression:"setCanvasDragging",arg:"end",modifiers:{self:!0}},{name:"touch",rawName:"v-touch:tap.self",value:t.handleCanvasTap,expression:"handleCanvasTap",arg:"tap",modifiers:{self:!0}}],ref:"canvasContainer",style:t.canvasContainerStyle,attrs:{id:"canvasContainer"},on:{mousemove:t.getMousePos}},[t.grid.show&&t.grid.opacity>0&&t.grid.size>1&&t.grid.width>0?i("div",{style:t.gridStyle,attrs:{id:"grid"}}):t._e(),t.grid.show&&t.grid.opacity>0&&t.grid.size>1&&t.grid.width>0?i("div",{style:t.gridCenterTopStyle,attrs:{id:"gridCenterTop"}}):t._e(),t.grid.show&&t.grid.opacity>0&&t.grid.size>1&&t.grid.width>0?i("div",{style:t.gridCenterHorStyle,attrs:{id:"gridCenterHor"}}):t._e(),i("div",{attrs:{id:"entities"}},t._l(t.processedEntitiesBetter,(function(e,n){return i("entityComponent",{key:n,attrs:{colors:t.colors,entityID:n,apiUrl:t.apiUrl,autoSave:!1,apiValidity:t.apiValidity,canvasSize:{height:t.canvasSize.height,width:t.canvasSize.width},canvasLocation:t.canvasLocation,canvasMousePos:e.canvasMousePos,defaultColors:t.colors,dragging:e.dragging,pressed:e.pressed,entitySelected:e.entitySelected,entityLocationDef:e.entityLocationDef,grid:t.grid,targetRelSpots:e.targetRelSpots,updateEntityData:e.updateEntityData},on:{setStartingCanvasMousePos:t.setStartingCanvasMousePos,prevActiveEntityID:t.setPrevActiveEntityID,removeEntity:t.removeEntity,entityActivated:t.entityActivated,setSelfRelSpots:function(e){return t.setSelfRelSpots(n,e)},assignTargetRelSpots:function(e){return t.assignTargetRelSpots(n,e)}}})})),1)])}),y=[],v=(i("4160"),i("caad"),i("45fc"),i("4fad"),i("b64b"),i("d3b7"),i("2532"),i("2ca0"),i("159b"),i("ade3")),f=(i("fde5"),i("b383")),m=i.n(f),b=i("2ef0"),x=i.n(b),S={name:"MindMapCanvas",components:{entityComponent:function(){return Promise.resolve().then(i.bind(null,"fde5"))}},props:{colors:Object,colorsProcessed:Object,entities:Array,entityLimit:{default:10,type:Number},apiUrl:String,apiValidity:Boolean,grid:{default:function(){return{size:1,opacity:0,width:0,show:!0,snap:!0}},type:Object},popupLock:{default:!0,type:Boolean}},data:function(){return{mindmapCanvas:null,dragItemId:null,canvasLocation:{x:0,y:0},canvasMousePos:{x:0,y:0},canvasContainerBoxLoc:{x:0,y:0},prevActiveEntityID:void 0,activeEntity:{entityID:void 0,dragging:{state:!1},pressed:{state:!1},selected:!1},canvas:{taps:{timer:void 0,count:0},dragging:{state:!1,event:void 0,deltas:{x:0,y:0}}},relClaimTargetSpots:{},relClaimSpots:{},entitiesToUpdate:[],processedEntitiesBetter:{},canvasSize:{height:0,width:0}}},computed:{windowSize:function(){var t=this.$store.state.window_height,e=this.$store.state.window_width;return{height:t||0,width:e||0}},canvasContainerStyle:function(){return{height:"100%",width:"100%",position:"absolute",top:"0px",left:"0px",overflow:"hidden",backgroundColor:"inherit"}},gridStylePart1:function(){var t="hsla(".concat(this.colors["theme_light"].h,", ").concat(this.colors["theme_light"].s,"%, ").concat(this.colors["theme_light"].l,"%, ").concat(this.grid.opacity/1.4,")"),e=2*this.grid.size;return{position:"absolute",backgroundImage:"repeating-linear-gradient(transparent, ".concat(t," ").concat(this.grid.width,"px, transparent ").concat(this.grid.width,"px, transparent ").concat(e,"px), repeating-linear-gradient(90deg, transparent, ").concat(t," ").concat(this.grid.width,"px, transparent ").concat(this.grid.width,"px, transparent ").concat(e,"px)"),pointerEvents:"none"}},gridStylePart2:function(){var t=2*this.grid.size,e=this.canvasSize.height+2*t,i=this.canvasSize.width+2*t,n=(e/2+this.canvasLocation.y)%t-1*t,o=(i/2+this.canvasLocation.x)%t-1*t;return(Math.abs(o)>t||Math.abs(n)>t)&&console.log("This shouldnt have happened"),{height:"".concat(e,"px"),width:"".concat(i,"px"),top:"".concat(n,"px"),left:"".concat(o,"px")}},gridStyle:function(){return Object.assign({},this.gridStylePart1,this.gridStylePart2)},gridCenterTopStyle:function(){this.grid.size,this.canvasSize.width,this.canvasSize.height;return{height:"100%",width:"100%",position:"absolute",top:"0px",left:"".concat(this.canvasLocation.x,"px"),backgroundImage:"linear-gradient(to right, transparent calc(50% - ".concat(this.grid.width/2,"px), hsla(183, 91%, 50%, ").concat(2*this.grid.opacity,") , transparent calc(50% + ").concat(this.grid.width/2,"px))"),pointerEvents:"none"}},gridCenterHorStyle:function(){this.grid.size,this.canvasSize.width,this.canvasSize.height;return{height:"100%",width:"100%",position:"absolute",top:"".concat(this.canvasLocation.y,"px"),left:"0px",backgroundImage:"linear-gradient(to bottom, transparent calc(50% - ".concat(this.grid.width/2,"px), hsla(19, 100%, 50%, ").concat(2*this.grid.opacity,"), transparent calc(50% + ").concat(this.grid.width/2,"px))"),pointerEvents:"none"}},gridBetterStyle:function(){return{position:"absolute",top:"-50%",left:"-50%",height:"200%",width:"200%"}}},methods:{setPrevActiveEntityID:function(t){console.log("I should only be called once"),this.prevActiveEntityID=t,n["default"].set(this.activeEntity,"entityID",t),n["default"].set(this.activeEntity,"selected",!0)},handleTouchEnd:function(t){t.preventDefault(),t.target&&this.setcanvas.dragging(),this.deactivateAllEntities(t)},updateCanvasContainerBoxLoc:function(){this.canvasContainerBoxLoc.x=this.$refs.canvasContainer.getBoundingClientRect().x,this.canvasContainerBoxLoc.y=this.$refs.canvasContainer.getBoundingClientRect().y},entityActivated:function(t,e){var i=this,n=this.activeEntity.entityID!==e;this.activeEntity.entityID=e,this.activeEntity.pressed.state=!0,setTimeout((function(){i.activeEntity.pressed.state?(i.activeEntity.dragging.state=!0,i.activeEntity.selected=!1,i.updateCanvasContainerBoxLoc()):e===i.activeEntity.entityID&&(i.activeEntity.selected=!!n||!i.activeEntity.selected)}),200)},deactivateAllEntities:function(t){([1].includes(t.which)||"touchend"===t.type)&&(!1===this.activeEntity.pressed.state?this.$refs.canvasContainer===t.target&&(this.activeEntity.selected=!1,this.activeEntity.entityID=void 0,this.$store.state.relClaimMode.mode&&this.$store.commit("update_relClaimMode",{mode:!1,targetID:null,claimantID:this.$store.state.relClaimMode.claimantID})):this.$refs.canvasContainer!==t.target&&(this.activeEntity.pressed.state=!1,this.activeEntity.dragging.state&&(this.activeEntity.dragging.state=!1)))},getMousePos:function(t){this.activeEntity.dragging.state,(this.activeEntity.dragging.state||this.canvas.dragging.state)&&("mousemove"===t.type?(n["default"].set(this.canvasMousePos,"x",t.clientX-this.canvasContainerBoxLoc.x),n["default"].set(this.canvasMousePos,"y",t.clientY-this.canvasContainerBoxLoc.y)):"touchmove"===t.type&&(n["default"].set(this.canvasMousePos,"x",t.touches[0].clientX-this.canvasContainerBoxLoc.x),n["default"].set(this.canvasMousePos,"y",t.touches[0].clientY-this.canvasContainerBoxLoc.y)),this.canvas.dragging.state&&(n["default"].set(this.canvasLocation,"x",this.canvasMousePos.x-this.canvasSize.width/2-this.canvas.dragging.deltas.x),n["default"].set(this.canvasLocation,"y",this.canvasMousePos.y-this.canvasSize.height/2-this.canvas.dragging.deltas.y)))},setCanvasDragging:function(t){if((2===t.which&&t.type.startsWith("mouse")||["touchend","touchstart"].includes(t.type))&&(!1!==this.canvas.dragging.state||!["mouseup","touchend"].includes(t.type)))if(this.canvas.dragging.state)this.canvas.dragging.state=!1,this.canvas.dragging.deltas={x:0,y:0},this.canvas.dragging.event=void 0,this.canvas.dragging.deltas={x:0,y:0};else{this.updateCanvasContainerBoxLoc();var e={x:0,y:0};"mousedown"===t.type?(this.canvas.dragging.state=!0,this.canvas.dragging.event=t,e.x=t.clientX,e.y=t.clientY):t.type.startsWith("touch")&&(this.canvas.dragging.state=!0,this.canvas.dragging.event=t,e.x=t.changedTouches[0].clientX,e.y=t.changedTouches[0].clientY),this.canvas.dragging.state&&(this.canvas.dragging.deltas.x=e.x-this.canvasSize.width/2-this.canvasLocation.x-this.canvasContainerBoxLoc.x,this.canvas.dragging.deltas.y=e.y-this.canvasSize.height/2-this.canvasLocation.y-this.canvasContainerBoxLoc.y)}},handleCanvasTap:function(t){var e=this;t.preventDefault(),this.canvas.taps.count+=1;var i=250;this.canvas.taps.timer=setTimeout((function(){if(e.canvas.taps.count>1){e.canvas.taps.count=0;var i={x:0,y:0};i=t.type.startsWith("mouse")?{x:t.clientX,y:t.clientY}:{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY},i.x=i.x-e.canvasSize.width/2-e.canvasLocation.x,i.y=i.y-e.canvasSize.height/2-e.canvasLocation.y,e.$emit("create-new-entity",i)}else e.canvas.taps.count=0;e.canvas.taps.timer=void 0}),i)},setStartingCanvasMousePos:function(t){this.updateCanvasContainerBoxLoc(),"touchstart"===t.type?(this.canvasMousePos.x=t.changedTouches[0].clientX-this.canvasContainerBoxLoc.x,this.canvasMousePos.y=t.changedTouches[0].clientY-this.canvasContainerBoxLoc.y):(this.canvasMousePos.x=t.clientX-this.canvasContainerBoxLoc.x,this.canvasMousePos.y=t.clientY-this.canvasContainerBoxLoc.y)},assignTargetRelSpots:function(t,e){this.relClaimTargetSpots[t]?n["default"].set(this.relClaimTargetSpots[t],e,this.relClaimSpots[e]):n["default"].set(this.relClaimTargetSpots,t,Object(v["a"])({},e,this.relClaimSpots[e]))},setSelfRelSpots:function(t,e){for(var i in this.relClaimSpots=Object.assign({},this.relClaimSpots,Object(v["a"])({},t,e)),this.relClaimTargetSpots)for(var o in this.relClaimTargetSpots[i])o===t&&(this.relClaimTargetSpots[i]?n["default"].set(this.relClaimTargetSpots[i],o,e):n["default"].set(this.relClaimTargetSpots,i,Object(v["a"])({},o,e)))},removeEntity:function(t){var e=this,i=this.apiUrl;a()({method:"POST",url:i+"/entity/remove",data:m.a.stringify({entityID:t}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(i){e.$emit("dropEntity",t,i.data.claimantIDs),e.entitiesToUpdate=i.data.claimantIDs}))},initiateProcessedEntities:function(){var t=this;Object.keys(this.processedEntitiesBetter).forEach((function(e,i){t.entities.some((function(t){return t.ID===e}))||(n["default"].delete(t.processedEntitiesBetter,e),n["default"].delete(t.relClaimTargetSpots,e))})),this.entities.forEach((function(e,i){Object.keys(t.processedEntitiesBetter).includes(e.ID)||n["default"].set(t.processedEntitiesBetter,e.ID,{dragging:{state:e.ID===t.activeEntity.entityID&&t.activeEntity.dragging.state},pressed:{state:e.ID===t.activeEntity.entityID?t.activeEntity.pressed.state:void 0},entitySelected:void 0,canvasMousePos:t.activeEntity.dragging&&t.activeEntity.entityID===e.ID?Object.assign({},t.canvasMousePos):void 0,entityLocationDef:void 0===t.entities[i]["entityLocationDef"]?{x:0,y:0}:Object.assign({},t.entities[i]["entityLocationDef"]),targetRelSpots:Object.assign({},t.relClaimTargetSpots[e.ID]),updateEntityData:!1})}))}},watch:{windowSize:function(){var t=this,e=this.$refs.canvasContainer;e?setTimeout((function(){e=e.getBoundingClientRect(),t.canvasSize={height:e.height,width:e.width}}),50):this.canvasSize={height:0,width:0}},entities:{handler:function(){this.initiateProcessedEntities()},deep:!0},relClaimTargetSpots:{handler:function(){var t=this;Object.entries(this.relClaimTargetSpots).forEach((function(e,i){Object.keys(t.entities).some((function(t){return t.ID!==e[0]}))&&(x.a.isEqual(e[1],t.processedEntitiesBetter[e[0]].targetRelSpots)||n["default"].set(t.processedEntitiesBetter[e[0]],"targetRelSpots",e[1]))}))},deep:!0},activeEntity:{handler:function(){this.activeEntity.entityID?(this.prevActiveEntityID!==this.activeEntity.entityID&&(console.log("on clicking from one entity to another i should be seen"),this.prevActiveEntityID&&Object.keys(this.processedEntitiesBetter).includes(this.prevActiveEntityID)&&(n["default"].set(this.processedEntitiesBetter[this.prevActiveEntityID],"pressed",{state:void 0}),n["default"].set(this.processedEntitiesBetter[this.prevActiveEntityID],"entitySelected",void 0)),this.prevActiveEntityID=this.activeEntity.entityID),this.activeEntity.pressed.state!==this.processedEntitiesBetter[this.activeEntity.entityID].pressed.state&&n["default"].set(this.processedEntitiesBetter[this.activeEntity.entityID],"pressed",{state:this.activeEntity.pressed.state}),n["default"].set(this.processedEntitiesBetter[this.activeEntity.entityID],"entitySelected",this.activeEntity.selected),this.activeEntity.dragging.state!==this.processedEntitiesBetter[this.activeEntity.entityID].dragging.state&&n["default"].set(this.processedEntitiesBetter[this.activeEntity.entityID],"dragging",{state:this.activeEntity.dragging.state})):Object.keys(this.processedEntitiesBetter).includes(this.prevActiveEntityID)&&(n["default"].set(this.processedEntitiesBetter[this.prevActiveEntityID],"pressed",{state:void 0}),n["default"].set(this.processedEntitiesBetter[this.prevActiveEntityID],"entitySelected",void 0))},deep:!0},canvasMousePos:{handler:function(){this.activeEntity.entityID&&(this.activeEntity.dragging.state?n["default"].set(this.processedEntitiesBetter[this.activeEntity.entityID],"canvasMousePos",{x:this.canvasMousePos.x-this.canvasLocation.x,y:this.canvasMousePos.y-this.canvasLocation.y}):n["default"].set(this.processedEntitiesBetter[this.prevActiveEntityID],"canvasMousePos",void 0))},deep:!0},entitiesToUpdate:function(){this.entitiesToUpdate.length&&(n["default"].set(this.processedEntitiesBetter[this.entitiesToUpdate[0]],"updateEntityData",!0),n["default"].delete(this.entitiesToUpdate,0))}},created:function(){},mounted:function(){var t=this.$refs.canvasContainer;t?(t=t.getBoundingClientRect(),this.canvasSize={height:t.height,width:t.width}):this.canvasSize={height:0,width:0},this.initiateProcessedEntities()},beforeUpdate:function(){},updated:function(){}},w=S,C=i("2877"),k=Object(C["a"])(w,g,y,!1,null,"410446aa",null),E=k.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:t.statusBarStyle,attrs:{id:"statusBar"}},[i("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:t.toggleShowNext,expression:"toggleShowNext",arg:"tap"}],style:t.lightDarkToggleContainerStyle,attrs:{id:"light-dark-toggle"},on:{mouseenter:t.toggleShowNext,mouseleave:t.toggleShowNext}},[i("div",{style:t.lightDarkToggleCurrentStyle,attrs:{id:"current"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showNextToggle,expression:"showNextToggle"},{name:"touch",rawName:"v-touch:tap",value:t.toggleTheme,expression:"toggleTheme",arg:"tap"}],ref:"next",style:t.lightDarkToggleNextStyle,attrs:{id:"next"}})]),i("div"),i("div",{style:t.apiStatusContainerStyle,attrs:{id:"apiStatusContainer"}},[t.apiValidity?i("div",{style:{position:"relative",height:"100%",minWidth:6*t.height+"px",boxSizing:"border-box",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",order:"1",backgroundColor:"rgba(255,255,255,0.5)",color:"black",borderRadius:"5px",boxShadow:"0px 0px 0 1px "+t.colorsProcessed["theme_light"]},attrs:{id:"api-url"}},[i("p",{style:{margin:"0px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"monospace"}},[t._v(" "+t._s(t.apiUrl)+" ")])]):t._e(),i("div",{style:t.apiStatusStyle,attrs:{id:"api-status-indicator","aria-label":t.statusIndicatorToolTipText}})])])},D=[],I={name:"statusBar",props:{colors:Object,colorsProcessed:Object,apiUrl:String,apiValidity:Boolean,toggleCurrent:String},data:function(){return{height:25,padding:2,showNextToggle:!1}},computed:{statusIndicatorToolTipText:function(){return this.apiValidity?"api valid. Connection State Unknown/ not implemented.":""===this.apiUrl?"no api url provided yet":"api url provided not valid"},statusBarStyle:function(){return{position:"absolute",bottom:"0px",left:"0px",width:"100%",height:"".concat(this.height,"px"),boxSizing:"border-box",boxShadow:"hsla(0, 0%, ".concat(this.colors["background"].l-15,"%, 0.5) 0px -2px 2px 1px"),padding:"".concat(this.padding,"px"),borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit",display:"grid",pointerEvents:"all",placeItems:"center",gridTemplateColumns:"min-content auto min-content",columnGap:"5px",backgroundColor:"hsla(".concat(this.colors["background"].h,",").concat(this.colors["background"].s,"%,").concat(this.colors["background"].l+10,"%,").concat(CSS.supports("backdrop-filter: blur(3px)")?.5:.8,")"),backdropFilter:"blur(3px)",backgroundImage:"repeating-linear-gradient(45deg,rgba(255, 255, 255, 0), ".concat(this.colorsProcessed["theme_light"]," 1px, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0) 6px), repeating-linear-gradient(-45deg, rgba(255, 255, 255, 0), ").concat(this.colorsProcessed["theme_light"]," 1px, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0) 6px)")}},lightDarkToggleContainerStyle:function(){return{height:"90%",minWidth:"".concat(this.height,"px"),boxSizing:"border-box",padding:"1px",display:"grid",gridTemplateColumns:"auto auto",gridColumnGap:"3px",pointerEvents:"all"}},lightDarkToggleCurrentStyle:function(){return{height:"100%",width:"".concat(this.height,"px"),boxSizing:"border-box",borderRadius:"".concat(this.height,"px"),padding:"1px",display:"grid",backgroundColor:"light"===this.toggleCurrent?"hsla(0,0%,98%,1)":"hsla(0,0%,10%,1)",boxShadow:"0px 0px 1px 1px ".concat("light"===this.toggleCurrent?"hsla(0,0%,10%,0.4)":"hsla(0,0%,85%,0.4)"," ")}},lightDarkToggleNextStyle:function(){return{height:"100%",width:"".concat(this.height,"px"),boxSizing:"border-box",borderRadius:"".concat(this.height,"px"),padding:"1px",display:"grid",backgroundColor:"light"===this.toggleCurrent?"hsla(0,0%,10%,1)":"hsla(0,0%,85%,1)",boxShadow:"0px 0px 1px 1px ".concat("light"===this.toggleCurrent?"hsla(0,0%,85%,0.4)":"hsla(0,0%,10%,0.4)"),cursor:"pointer"}},apiStatusContainerStyle:function(){return{height:"90%",minWidth:"".concat(this.height,"px"),boxSizing:"border-box",padding:"1px",display:"grid",gridTemplateColumns:"auto auto",gridColumnGap:this.apiValidity?"5px":"0px"}},apiStatusStyle:function(){return{order:"2",height:"100%",width:"".concat(1*this.height,"px"),backgroundColor:this.apiValidity?"hsla(130, 100%, 40%, 0.95)":"hsla(0, 100%, 60%, 0.95)",borderRadius:"".concat(this.height,"px"),border:"1.2px dotted hsla(".concat(this.colors["background"].h,",").concat(this.colors["background"].s,"%,").concat(this.colors["background"].l-20,"%,1)"),boxShadow:"0px 0px 3px 1px hsla(0, 0%, 0%, 0.32)",boxSizing:"border-box"}}},methods:{toggleTheme:function(){this.$emit("themeToggle")},toggleShowNext:function(t){t.preventDefault(),t.target!==this.$refs.next&&(t.type.startsWith("mouse"),this.showNextToggle?this.showNextToggle=!1:this.showNextToggle=!0)}}},P=I,z=Object(C["a"])(P,_,D,!1,null,"9814e3c4",null),T=z.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPage?n("div",{style:t.containerStyle,attrs:{id:"aboutPage"}},[n("div",{style:t.aboutSectionStyle,attrs:{id:"aboutSection"}},[n("button",{style:t.closeButtonStyle,attrs:{id:"closePageBttn"},on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.closePage(e)},mouseover:function(e){t.isHovered=!0},mouseout:function(e){t.isHovered=!1}}},[n("img",{style:{height:"100%",width:"100%",borderRadius:"inherit"},attrs:{src:i("ec4b")}})]),n("p",{style:t.pStyle},[n("span",{style:{fontSize:"20px"}},[n("a",{style:{pointerEvents:"initial"},attrs:{href:"https://github.com/KarmaKast/MindMap-WebApp",target:"_blank"}},[t._v(t._s(t.appName))]),t._v(" - v"+t._s(t.version))]),n("br"),n("br"),t._v(" A Mindmap web app that uses "),n("a",{style:{pointerEvents:"initial"},attrs:{href:"https://github.com/KarmaKast/morph-dbms-core",target:"_blank"}},[t._v("morph-dbms-core")]),t._v(" . Currently everything is in prototyping state. "),n("br"),n("br"),n("br"),t._v(" - setup "),n("a",{style:{pointerEvents:"initial"},attrs:{href:"https://github.com/KarmaKast/nodeAPI/",target:"_blank"}},[t._v("nodeAPI")]),t._v(" (runs at localhost:3000) ")])])]):t._e()},B=[],M={name:"aboutPage",props:{colors:Object,colorsProcessed:Object,showPage:Boolean},data:function(){return{isHovered:!1,version:"0.5.11",appName:"MapThyMind"}},computed:{containerStyle:function(){return{height:"100%",width:"100%",background:"hsla(0, 0%, 0%, 0.19)",backdropFilter:"blur(6px)",display:"grid",placeItems:"center",pointerEvents:"all"}},aboutSectionStyle:function(){return{background:"rgba(255, 255, 255, 0.5)",borderRadius:"28px",padding:"15px",height:"fit-content",maxWidth:"400px",minWidth:"280px",width:"20%",border:"1px dashed ".concat(this.colorsProcessed["theme"]),boxSizing:"border-box",display:"grid",gridTemplateRows:"30px auto",gridTemplateColumns:"30px auto",gridRowGap:"10px"}},closeButtonStyle:function(){return{background:this.isHovered?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 0.4)",border:"0.5px dashed ".concat(this.colorsProcessed["theme"]),boxShadow:"0px 0px 2px 1px hsla(0, 0%, 0%, 0.1882)",boxSizing:"border-box",borderRadius:"100%",gridArea:"1 / 1 / 2 / 2",padding:"0px",display:"grid",placeItems:"center",outline:"none",cursor:"pointer"}},pStyle:function(){return{height:"auto",width:"auto",gridArea:"2 / 1 / 3 / 3",pointerEvents:"none",boxSizing:"border-box",padding:"20px 20px",margin:"0px",textAlign:"left"}}},watch:{showPage:function(){this.showPage?window.addEventListener("keyup",this.onEscapeKeyUp):window.removeEventListener("keyup",this.onEscapeKeyUp)}},methods:{onEscapeKeyUp:function(t){console.log(t),"Escape"===t.key&&this.closePage()},closePage:function(){this.$emit("closePage",!1)}}},O=M,R=Object(C["a"])(O,L,B,!1,null,"5885da8b",null),A=R.exports,U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",style:t.containerStyle},[i("div",{staticClass:"background",style:t.backgroundStyle}),i("p",{style:t.buttonTextStyle},[t._v(" "+t._s(t.buttonText)+" ")]),i("button",{staticClass:"primary-button",style:t.buttonStyle,on:{mousedown:function(e){t.clickStarted=!0},mouseup:function(e){t.clickStarted=!1},click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.setActive(e)},mouseover:function(e){return t.setButtonHovered("main")},mouseout:function(e){t.clickStarted=!1,t.unsetButtonHovered("main")}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.urlInField,expression:"urlInField"}],ref:"inputField",staticClass:"input-field",style:t.inputFieldStyle,attrs:{placeholder:"Connect to API"},domProps:{value:t.urlInField},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.testAPI(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.setNotActive(e)}],input:function(e){e.target.composing||(t.urlInField=e.target.value)}}}),i("button",{staticClass:"secondary-button",style:t.testButtonStyle,on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.testAPI(e)},mouseover:function(e){return t.setButtonHovered("test")},mouseout:function(e){return t.unsetButtonHovered("test")}}})])},j=[],$=i("2f62"),F={name:"buttonOne",props:{colors:Object,colorsProcessed:Object,validity:Boolean,index:{default:1,type:Number}},data:function(){return{buttonText:"Connect to API",active:!1,mainButtonIsHovered:!1,testButtonIsHovered:!1,size:[32,174],urlInField:"",clickStarted:!1}},computed:{urlInStore:function(){return this.$store.state.apiUrl[0]},containerStyle:function(){var t="auto ".concat(this.size[0],"px");return{position:"relative",height:"".concat(this.size[0],"px"),width:"".concat(this.size[1],"px"),display:"grid",gridDirection:"row",gridTemplateColumns:this.active?t:"unset",placeItems:"center",borderRadius:"inherit",padding:"0px"}},backgroundStyle:function(){return{background:this.mainButtonIsHovered?"hsla(".concat(this.colors["theme"].h,",").concat(this.colors["theme"].s,"%,").concat(this.colors["theme"].l+20,"%,0.3)"):"hsla(".concat(this.colors["background"].h,",").concat(this.colors["background"].s,"%,").concat(this.colors["background"].l+30,"%,0.5)"),position:"absolute",top:"0px",height:"100%",width:"100%",border:this.mainButtonIsHovered?"1px dashed hsla(".concat(this.colors["theme"].h,", ").concat(this.colors["theme"].s,"%, ").concat(this.colors["theme"].l,"%, 0.4)"):"none",boxSizing:"border-box",boxShadow:this.mainButtonIsHovered?this.clickStarted?"rgba(0, 0, 0, 0.24) 0px 0px 3px 0px":"rgba(0, 0, 0, 0.24) 0px 0px 6px 0px":"rgba(0, 0, 0, 0.24) 0px 0px 3px 0px",backdropFilter:"blur(4px)",borderRadius:"8px",textAlign:"center"}},buttonTextStyle:function(){return{display:this.active?"none":"block",position:"relative",margin:"0px",fontFamily:"Raleway",fontStyle:"normal",fontWeight:"500",fontSize:"15px",lineHeight:"7px",color:"".concat(this.colorsProcessed["theme"])}},buttonStyle:function(){return{display:this.active?"none":"block",position:"absolute",left:"0px",top:"0px",margin:"auto",padding:"0px",height:"".concat(this.size[0],"px"),width:"".concat(this.size[1],"px"),pointerEvents:"initial",cursor:"pointer",outline:"none",background:"none",border:"none",borderRadius:"inherit"}},inputFieldStyle:function(){return{display:this.active?"block":"none",position:"relative",order:"1",background:"none",height:"80%",width:"90%",border:"none",outline:"none",borderBottom:"1px solid ".concat(this.colorsProcessed["theme"]),boxSizing:"border-box",borderRadius:"1px",fontSize:"10px",pointerEvents:"initial",cursor:"text"}},testButtonStyle:function(){return{display:this.active?"table-cell":"none",order:"2",margin:"0 auto",padding:"0px",height:"80%",width:"80%",borderRadius:"10px",background:this.testButtonIsHovered?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.3)",border:"0.5px dashed ".concat(this.colorsProcessed["theme"]),backdropFilter:"blur(4px)",outline:"none",pointerEvents:"initial",cursor:"pointer"}}},methods:{setActive:function(){var t=this;this.active=!0,setTimeout((function(){t.$refs.inputField.focus()}))},setNotActive:function(){this.active=!1},testAPI:function(){var t=!1;t=!0,t&&(this.$store.commit("update_apiUrl",this.urlInField),this.active=!1)},setButtonHovered:function(t){"main"===t&&(this.mainButtonIsHovered=!0),"test"==t&&(this.testButtonIsHovered=!0)},unsetButtonHovered:function(t){"main"===t&&(this.mainButtonIsHovered=!1),"test"==t&&(this.testButtonIsHovered=!1)}},watch:{urlInStore:{handler:function(){this.urlInStore!==this.urlInField&&(this.urlInField=this.urlInStore)}}}},N=F,H=Object(C["a"])(N,U,j,!1,null,"12615406",null),V=H.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",style:this.containerStyle},[i("div",{staticClass:"background",style:this.backgroundStyle}),i("p",{style:this.buttonTextStyle},[t._v(" "+t._s(this.buttonText)+" ")]),i("button",{style:this.buttonStyle,on:{mousedown:function(e){t.clickStarted=!0},mouseup:function(e){t.clickStarted=!1},click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.emitTakeAction(e)},mouseover:function(e){return t.setButtonHovered("main")},mouseout:function(e){t.clickStarted=!1,t.unsetButtonHovered("main")}}})])},X=[],q={name:"buttonTwo",props:{colors:Object,colorsProcessed:Object,buttonText:String},data:function(){return{active:!1,mainButtonIsHovered:!1,size:[32,174],isHovered:!1,clickStarted:!1}},computed:{containerStyle:function(){var t="auto ".concat(this.size[0],"px");return{position:"relative",height:"".concat(this.size[0],"px"),width:"".concat(this.size[1],"px"),display:"grid",gridDirection:"row",gridTemplateColumns:this.active?t:"none",justifyContent:"center",alignItems:"center",borderRadius:"inherit",padding:"0px"}},backgroundStyle:function(){return{background:this.mainButtonIsHovered?"hsla(".concat(this.colors["theme"].h,",").concat(this.colors["theme"].s,"%,").concat(this.colors["theme"].l+20,"%,0.3)"):"hsla(".concat(this.colors["background"].h,",").concat(this.colors["background"].s,"%,").concat(this.colors["background"].l+30,"%,0.5)"),position:"absolute",top:"0px",height:"100%",width:"100%",border:this.mainButtonIsHovered?"1px dashed hsla(".concat(this.colors["theme"].h,", ").concat(this.colors["theme"].s,"%, ").concat(this.colors["theme"].l,"%, 0.4)"):"none",boxSizing:"border-box",boxShadow:this.mainButtonIsHovered?this.clickStarted?"rgba(0, 0, 0, 0.24) 0px 0px 3px 0px":"rgba(0, 0, 0, 0.24) 0px 0px 6px 0px":"rgba(0, 0, 0, 0.24) 0px 0px 3px 0px",backdropFilter:"blur(4px)",borderRadius:"8px",textAlign:"center"}},buttonTextStyle:function(){return{display:this.active?"none":"block",position:"relative",margin:"0px",fontFamily:"Raleway",fontStyle:"normal",fontWeight:"500",fontSize:"15px",lineHeight:"7px",color:"".concat(this.colorsProcessed["theme"])}},buttonStyle:function(){return{display:this.active?"none":"block",position:"absolute",left:"0px",top:"0px",margin:"auto",padding:"0px",height:"".concat(this.size[0],"px"),width:"".concat(this.size[1],"px"),pointerEvents:"initial",cursor:"pointer",background:"none",border:"none",borderRadius:"inherit",outline:"none"}}},methods:{setActive:function(){var t=this;this.active=!0,setTimeout((function(){t.$refs.inputField.focus()}))},setNotActive:function(){this.active=!1},setButtonHovered:function(t){"main"===t&&(this.mainButtonIsHovered=!0)},unsetButtonHovered:function(t){"main"===t&&(this.mainButtonIsHovered=!1)},emitTakeAction:function(){this.$emit("takeAction")}}},Y=q,K=Object(C["a"])(Y,W,X,!1,null,"2c202e3d",null),G=K.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,viewBox:"0 0 18 18","aria-labelledby":t.iconName,role:"presentation"}},[i("title",{attrs:{id:t.iconName,lang:"en"}},[t._v(t._s(t.iconName))]),i("g",{attrs:{fill:t.iconColor}},[t._t("default")],2)])},Q=[],Z={props:{iconName:{type:String,default:"box"},width:{type:[Number,String],default:18},height:{type:[Number,String],default:18},iconColor:{type:String,default:"currentColor"}}},tt=Z,et=(i("4a07"),Object(C["a"])(tt,J,Q,!1,null,"4c90cf32",null)),it=et.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("path",{attrs:{d:"M9 5.5c.83 0 1.5-.67 1.5-1.5S9.83 2.5 9 2.5 7.5 3.17 7.5 4 8.17 5.5 9 5.5zm0 2c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5S9.83 7.5 9 7.5zm0 5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z",fill:"color"}})},ot=[],at={},st=Object(C["a"])(at,nt,ot,!1,null,null,null),rt=st.exports,ct={name:"MindMapModule",components:{MindMapCanvas:E,statusBar:T,aboutPage:A,buttonOne:V,buttonTwo:G,iconBase:it,IconHamburger1:rt},props:{colors:Object,lockTheming:{default:!1,type:Boolean},entityLimit:{default:25,type:Number}},data:function(){return{debugMsg:"",showMenu:!1,apiUrl:"",apiValidity:!1,collection:null,entities:[],showAboutPage:!1,grid:{size:25,opacity:.3,width:2,show:!0,snap:!0},MindMapColors:{theme_light:{background:{h:0,s:0,l:95,a:1},theme:{h:358,s:97,l:50,a:1},theme_light:{h:0,s:100,l:84,a:1}},theme_dark:{background:{h:0,s:0,l:15,a:1},theme:{h:151,s:70,l:50,a:1},theme_light:{h:151,s:85,l:32,a:.3}}},CurrentTheme:localStorage.getItem("theme")?localStorage.getItem("theme"):"theme_light",canvasForceUpdate:!1}},computed:{colorsFinal:function(){return this.colors?this.colors:this.MindMapColors[this.CurrentTheme]},menuButtons:function(){var t=[{text:"Get Collection",action:this.getCollection,args:[],if:this.apiValidity},{text:"New Collection",action:this.createCollection,args:[],if:this.apiValidity},{text:"Clear Collection",action:this.clearCollection,args:[],if:this.apiValidity},{text:"Save Collection",action:this.saveCollection,args:[],if:this.apiValidity},{text:"Load Collection",action:this.loadCollection,args:[],if:this.apiValidity},{text:"Settings",action:this.showSettings,args:[],if:!0},{text:"About",action:this.aboutPageDisplay,args:[!0],if:!0}];function e(t){return t["if"]}var i=t.filter(e);return i},colorsProcessed:function(){var t={};for(var e in this.colorsFinal){var i=this.colorsFinal[e];t[e]="hsla(".concat(i.h,",").concat(i.s,"%,").concat(i.l,"%,").concat(i.a,")")}return t},containerStyle:function(){var t={height:"100%",width:"100%",overflow:"hidden",borderRadius:"inherit",position:"relative",touchAction:"none"};return void 0!==this.colorsProcessed&&"background"in this.colorsProcessed&&(t["backgroundColor"]="".concat(this.colorsProcessed["background"]),t["boxShadow"]="0px 0px 0 2px ".concat(this.colorsProcessed["theme_light"],", inset 0px 0px 5px 3px hsla(0, 0%, 0%, 0.1")),t},centerButtonStyle:function(){var t=25;return{position:"absolute",height:"".concat(t,"px"),width:"".concat(t,"px"),top:"5px",right:"5px",backgroundColor:"hsla(".concat(this.colorsProcessed["theme"].h,",").concat(this.colorsProcessed["theme"].s,"%,").concat(1.38*this.colorsProcessed["theme"].l,"%,").concat(.5*this.colorsProcessed["theme"].a,")"),backdropFilter:"blur(4px)",border:"1px solid hsla(".concat(this.colorsProcessed["theme"].h,",").concat(this.colorsProcessed["theme"].s,"%,").concat(1.15*this.colorsProcessed["theme"].l,"%,").concat(.3*this.colorsProcessed["theme"].a,")"),borderRadius:"50%"}},menuItemsStyle:function(){return{display:"grid",gridRowGap:"12px",position:"absolute",top:"0px",left:"60px",padding:"10px",pointerEvents:"all",background:"hsla(".concat(this.colorsFinal["background"].h,", ").concat(this.colorsFinal["background"].s,"%, ").concat(this.colorsFinal["background"].l+20,"%, ").concat(CSS.supports("backdrop-filter: blur(3px)")?.38:1),border:"0.5px dashed ".concat(this.colorsProcessed["theme"]),boxSizing:"border-box",backdropFilter:"blur(4px)",borderRadius:"15px",boxShadow:"hsla(0, 0%, 0%, 0.16) 0px 0px 19px 1px"}},burgerTimeButtonStyle:function(){return{position:"relative",top:"0px",left:"0px",height:"38px",width:"48px",background:"hsla(".concat(this.colorsFinal["background"].h,", ").concat(this.colorsFinal["background"].s,"%, ").concat(this.colorsFinal["background"].l+20,"%, ").concat(CSS.supports("backdrop-filter: blur(3px)")?.38:1),border:"1px solid hsla(".concat(this.colorsFinal["theme"].h,", ").concat(this.colorsFinal["theme"].s,"%, ").concat(this.colorsFinal["theme"].l,"%, 0.4 )"),backdropFilter:"blur(4px)",borderRadius:"12px",padding:"0px",boxShadow:this.showMenu?"hsla(0, 0%, ".concat(this.colorsFinal["background"].l-20,"%, 0.5) 0px 0px 19px 1px"):"unset",boxSizing:"border-box",cursor:"pointer",outline:"none",pointerEvents:"initial"}}},methods:{loadAppSettings:function(){},refreshCanvas:function(){var t=this;this.canvasForceUpdate=!0,this.$nextTick((function(){t.canvasForceUpdate=!1}))},showSettings:function(){alert("Settings section not implimented yet")},loadCollection:function(){var t=this,e=this.apiUrl;this.entities=[],a()({method:"POST",url:e+"/collection/load",data:m.a.stringify({Label:"testCollection"}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(){t.getCollection()})).catch((function(e){t.createCollection()}))},getCollection:function(){var t=this,e=this.apiUrl;this.entities=[],console.log("getting list of nodes\n".concat(e)),a.a.get(e+"/collection/get").then((function(i){t.collection=i["data"],t.entities=i.data.Entities.map((function(t){return{ID:t}})),t.refreshCanvas(),t.$store.commit("update_apiUrlValidity",!0),t.apiValidity=!0,localStorage.getItem("apiUrl")&&localStorage.getItem("apiUrl")===e||localStorage.setItem("apiUrl",e)})).catch((function(e){return t.loadCollection()}))},createCollection:function(){var t=this,e=this.apiUrl;console.log("getting list of nodes\n".concat(e)),a()({method:"POST",url:e+"/collection/create",data:m.a.stringify({Label:"testCollection"}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(){t.saveCollection(),t.getCollection()})).catch((function(e){t.$store.commit("update_apiUrlValidity",!1),t.apiValidity=!1}))},clearCollection:function(){var t=this.apiUrl;this.$axios.post(t+"/collection/clear"),this.getCollection()},saveCollection:function(){var t=this.apiUrl;this.$axios.post(t+"/collection/save")},toggleMenu:function(){this.showMenu?this.showMenu=!1:this.showMenu=!0},createNewEntity:function(t){var e=this;this.apiValidity?!this.entities.length>=this.entityLimit?alert("Sorry! Max nodes are limited to : ".concat(this.entityLimit," for now.")):a()({method:"POST",baseURL:this.apiUrl,url:"/entity/create",data:m.a.stringify({vizProps:JSON.stringify({location:{x:t.x,y:t.y,z:t.z}})})}).then((function(i){console.log(i),e.entities.push({ID:i.data.entityID,entityLocationDef:t})})).catch((function(t){return console.log("Error: ",t)})):alert("Connect to API")},dropEntity:function(t,e){for(var i in this.entities)if(this.entities[i].ID===t){this.$delete(this.entities,i);break}},aboutPageDisplay:function(t){this.showAboutPage=t},themeToggle:function(){"theme_light"===this.CurrentTheme?this.CurrentTheme="theme_dark":this.CurrentTheme="theme_light",localStorage.setItem("theme",this.CurrentTheme)}},watch:{apiUrl:function(){""!==this.apiUrl?this.getCollection():(this.apiValidity=!1,this.$store.commit("update_apiUrlValidity",!1))},apiValidity:function(){this.apiValidity||""!==this.apiUrl||(this.refreshCanvas(),this.entities=[],localStorage.setItem("apiUrl",""))}},created:function(){var t=this;this.$store.subscribe((function(e,i){"update_apiUrl"===e.type&&(t.apiUrl=i.apiUrl[0])}))},mounted:function(){localStorage.getItem("apiUrl")&&(this.apiUrl=localStorage.getItem("apiUrl"),this.$store.commit("update_apiUrl",this.apiUrl))},updated:function(){}},lt=ct,dt=(i("1d80e"),Object(C["a"])(lt,u,p,!1,null,"5a728932",null)),ht=dt.exports,ut={name:"app",components:{MindMapModule:ht},data:function(){return{MindMapColors:{background:{h:0,s:0,l:100,a:.5},theme:{h:358,s:97,l:67,a:1},theme_light:{h:0,s:100,l:84,a:1}},window_size:{width:0,height:0},entityLimit:20,APP_MODE:"production"}},computed:{mindMapContainerStyle:function(){return{height:"100%",width:"100%",marginTop:"0px",marginLeft:"0px",boxSizing:"border-box",borderRadius:"development"===this.APP_MODE?"15px 15px 10px 10px":"unset",padding:"development"===this.APP_MODE?"20px":"0px"}},appStyle:function(){return{height:"".concat(this.window_size.height,"px"),width:"".concat(this.window_size.width,"px"),position:"absolute",top:"0px",left:"0px",overflowX:"hidden"}}},methods:{handleResize:function(){this.$store.dispatch("update_window_size")}},created:function(){var t=this;window.addEventListener("resize",this.handleResize),this.window_size.width=this.$store.state.window_width,this.window_size.height=this.$store.state.window_height,this.$store.subscribeAction({after:function(e,i){"update_window_size"===e.type&&(t.window_size.width=i.window_width,t.window_size.height=i.window_height)}})},destroyed:function(){window.removeEventListener("resize",this.handleResize)}},pt=ut,gt=(i("5c0b"),Object(C["a"])(pt,d,h,!1,null,null,null)),yt=gt.exports;n["default"].use($["a"]);var vt=new $["a"].Store({state:{window_height:window.innerHeight,window_width:window.innerWidth,apiUrl:["",!1],theme:[],relClaimMode:{mode:!1,targetID:null,claimantID:null}},mutations:{update_window_height:function(t){t.window_height=window.innerHeight},update_window_width:function(t){t.window_width=window.innerWidth},update_apiUrl:function(t,e){t.apiUrl=[e,t.apiUrl[1]]},update_apiUrlValidity:function(t,e){t.apiUrl=[t.apiUrl[0],e]},update_relClaimMode:function(t,e){t.relClaimMode={mode:e.mode,targetID:e.targetID,claimantID:e.claimantID}}},getters:{},actions:{update_window_size:function(t){t.commit("update_window_width"),t.commit("update_window_height")},update_apiState:function(t,e){t.commit("update_apiUrl",e)}},modules:{}}),ft=i("9483");Object(ft["a"])("".concat("/MindMap-WebApp/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),n["default"].config.productionTip=!1,n["default"].prototype.$axios=a.a,n["default"].use(r.a),n["default"].use(l.a,{}),new n["default"]({store:vt,render:function(t){return t(yt)}}).$mount("#app")},5706:function(t,e,i){},"5c0b":function(t,e,i){"use strict";var n=i("9c0c"),o=i.n(n);o.a},"9c0c":function(t,e,i){},d5fe:function(t,e,i){},ec4b:function(t,e,i){t.exports=i.p+"img/ic_chevron_left_48px.5bbac221.svg"},fde5:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=this,i=e.$createElement,n=e._self._c||i;return n("div",{ref:"entityContainer",style:e.entityContainerStyleFinal},[n("div",{staticClass:"relationWires",style:e.relationWiresStyle},[n("v-stage",{attrs:{config:{width:this.relStageSize.width,height:this.relStageSize.height}}},[n("v-layer",[n("v-group",e._l(e.entityData.source.RelationClaims,(function(t,i){return n("v-line",{key:i,attrs:{config:{points:e.relationWirePoints[t.To],stroke:e.relWireColor,strokeWidth:e.dragging.state||e.entitySelectedFinal?2:1,lineCap:"round",lineJoin:"round"}}})})),1)],1)],1)],1),e.entitySelectedFinal?n("div",{staticClass:"entityUI",style:{position:"absolute",display:"grid"}},[n("div",{directives:[{name:"touch",rawName:"v-touch:tap.self",value:e.editentityLabel,expression:"editentityLabel",arg:"tap",modifiers:{self:!0}}],staticClass:"editLabelBttn",style:{position:"absolute",bottom:"5px",height:"25px",width:"25px",backgroundColor:"#ad37de",borderRadius:"50%",pointerEvents:"all"}},[e.editingLabel?n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.entityLabel,expression:"entityLabel",modifiers:{lazy:!0}}],ref:"labelInput",style:e.inputTextStyle,attrs:{type:"text"},domProps:{value:e.entityLabel},on:{input:function(t){e.entityLabel=t.target.value},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.editentityLabel(t)},change:function(t){e.entityLabel=t.target.value}}}):e._e()]),e._e(),n("div",{directives:[{name:"touch",rawName:"v-touch:tap.self",value:function(){t.$emit("removeEntity",t.entityID)},expression:"\n        () => {\n          this.$emit('removeEntity', this.entityID);\n        }\n      ",arg:"tap",modifiers:{self:!0}}],staticClass:"removeEntityBttn",style:{position:"absolute",left:"30px",bottom:"5px",height:"25px",width:"25px",backgroundColor:"#ff1a02",borderRadius:"50%",pointerEvents:"all"}}),n("div",{directives:[{name:"touch",rawName:"v-touch:start.self",value:e.toggleRelClaimMode,expression:"toggleRelClaimMode",arg:"start",modifiers:{self:!0}}],staticClass:"startRelClaimBttn",style:{position:"absolute",top:"14px",left:e.relationSpots.right-e.relationSpots.left+5+"px",height:"25px",width:"25px",backgroundColor:"blue",borderRadius:"50%",pointerEvents:"all"}})],1):e._e(),n("div",{directives:[{name:"touch",rawName:"v-touch:start.self",value:e.startdrag,expression:"startdrag",arg:"start",modifiers:{self:!0}},{name:"touch",rawName:"v-touch:end",value:e.confirmRelClaimTarget,expression:"confirmRelClaimTarget",arg:"end"}],staticClass:"entity",style:e.entityStyle},[n("p",{style:e.entityTextStyle},[e._v(e._s(e.entityLabel))])])])},o=[],a=(i("99af"),i("4160"),i("caad"),i("a9e3"),i("4fad"),i("159b"),i("3835")),s=i("b85c"),r=i("ade3"),c=i("2b0e"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:t.ContainerStyle,attrs:{id:"color-picker-container"}},[i("div",{style:{padding:"8px 15px",background:"#ffa7a7",borderRadius:"20px 5px 5px 5px"}},[i("div",{style:{width:"200px",height:"100px",backgroundColor:"blue",borderRadius:"5px"}})]),i("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"blue"}})])},d=[],h={name:"ColorPicker",components:{},data:function(){return{}},computed:{ContainerStyle:function(){return{display:"grid",position:"absolute",bottom:"40px",gridGap:"2px"}}}},u=h,p=i("2877"),g=Object(p["a"])(u,l,d,!1,null,"18f4dc01",null),y=g.exports,v=i("bc3a"),f=i.n(v),m=i("b383"),b=i.n(m),x=i("2ef0"),S=i.n(x),w={name:"entityComponent",components:{ColorPicker:y},props:{colors:Object,entityID:String,apiUrl:String,apiValidity:Boolean,canvasSize:{height:Number,width:Number},canvasLocation:Object,canvasMousePos:Object,autoSave:{default:!1,type:Boolean},grid:Object,defaultColors:Object,dragging:{default:function(){return{state:!1}},type:Object},pressed:{default:function(){return{state:!1}},type:Object},entitySelected:{default:void 0,type:Boolean},entityLocationDef:{default:function(){return{x:0,y:0,z:0}},type:Object},targetRelSpots:Object,updateEntityData:{default:!1,type:Boolean}},data:function(){return{minHeight:60,minWidth:120,entityLocation:this.entityLocationDef,entityLocationProcessed:{},entityLabel:"",entitySelectedDef:void 0,entitySelectedFinal:this.entitySelected,entityColor:{h:0,s:0,l:0,a:1},entityData:{source:{Label:"",RelationClaims:[]},viz_props:{location:{x:0,y:0,z:0},color:{h:166,s:89,l:45,a:1}}},entitySize:{height:60,width:160},entityBoundingBoxSize:{height:0,width:0},draggingDeltas:{x:0,y:0},editingLabel:!1,relClaimMode:{mode:!1,targetID:null},entityContainerStylePartStatic:{position:"absolute",boxSizing:"border-box",display:"grid",gridTemplateColumns:"100%",padding:"4px",outline:"none"}}},computed:{relWireColor:function(){return"hsla(".concat(this.entityColor.h,",").concat(this.entityColor.s,"%,").concat(this.entityColor.l,"%, ").concat(this.entityColor.a,")")},entityContainerStylePart1:function(){return{minWidth:"".concat(""===this.entityLabel?this.minWidth:0,"px"),minHeight:"".concat(""===this.entityLabel?this.minHeight:0,"px"),cursor:this.dragging.state?"grabbing":"grab",zIndex:this.dragging.state?"5000":"unset",backgroundColor:this.editingLabel&&this.entitySelectedFinal?"white":"hsla(0,0%,0%,0.01)",borderRadius:this.entitySize["height"]>this.entitySize["width"]?"".concat(this.entitySize["height"],"px"):"".concat(this.entitySize["width"],"px"),boxShadow:"".concat(this.dragging.state?"rgba(0, 0, 0, 0.2) 0px 0px 13px 4px":"rgba(0, 0, 0, 0.05) 0px 0px 3px 2px",", inset 0px 0px 0 4px hsla(").concat(this.entityColor.h,",\n        ").concat(this.entityColor.s,"%,\n        ").concat(this.entityColor.l,"%, 0.2)")}},entityContainerStylePart2:function(){return{top:"".concat(this.canvasSize.height/2+this.entityLocation_.y-this.entityBoundingBoxSize.height/2,"px"),left:"".concat(this.canvasSize.width/2+this.entityLocation_.x-this.entityBoundingBoxSize.width/2,"px")}},entityContainerStyleFinal:function(){return Object.assign({},this.entityContainerStylePartStatic,this.entityContainerStylePart1,this.entityContainerStylePart2,{transform:"translate(\n          ".concat(this.canvasLocation.x+"px",",\n          ").concat(this.canvasLocation.y+"px","\n        )")})},entityStyle:function(){return{position:"relative",borderRadius:"inherit",border:"1px solid hsla(".concat(this.entityColor.h,",").concat(this.entityColor.s,"%, ").concat(this.entityColor.l,"%, 0.8)"),backdropFilter:"blur(2px)",backgroundColor:CSS.supports("backdrop-filter: blur(3px)")?"hsla(0,0%,".concat(this.colors["background"].l+5,"%,0.2)"):"hsla(0,0%,".concat(this.colors["background"].l+5,"%,1)"),pointerEvents:"all",display:"grid",placeItems:"center",boxSizing:"border-box",padding:"10px 15px 10px 15px"}},entityTextStyle:function(){return{pointerEvents:"none",margin:"0px",maxWidth:"100px",overflowWrap:"break-word",color:"hsla(".concat(this.entityColor.h,",").concat(this.entityColor.s,"%, ").concat(this.entityColor.l,"%, ",1,")"),background:"none",border:"none",userSelect:"none"}},inputTextStyle:function(){return{position:"absolute",bottom:"20px",left:"20px"}},entityLocation_:function(){var t={};return this.canvasMousePos&&this.pressed.state?(t.x=this.canvasMousePos.x-this.canvasSize.width/2,t.y=this.canvasMousePos.y-this.canvasSize.height/2,this.grid.snap&&(t.x=(Math.floor((t.x-this.grid.size/2)/this.grid.size)+1)*this.grid.size,t.y=(Math.floor((t.y-this.grid.size/2)/this.grid.size)+1)*this.grid.size)):t=Object.assign({},this.entityLocation),t},relationWiresStylePart1:function(){return Object(r["a"])({position:"absolute",left:0-this.canvasSize.width/2-this.entityLocation_.x+this.entityBoundingBoxSize.width/2,top:0-this.canvasSize.height/2-this.entityLocation_.y+this.entityBoundingBoxSize.height/2,pointerEvents:"none"},"position","absolute")},relationWiresStyle:function(){return Object.assign({},this.relationWiresStylePart1,{left:this.relationWiresStylePart1.left-this.canvasLocation.x+"px",top:this.relationWiresStylePart1.top-this.canvasLocation.y+"px"})},relationSpots:function(){return{left:this.canvasSize.width/2+this.entityLocation_.x-this.entityBoundingBoxSize.width/2,right:this.canvasSize.width/2+this.entityLocation_.x+this.entityBoundingBoxSize.width/2,top:this.canvasSize.height/2+this.entityLocation_.y-this.entityBoundingBoxSize.height/2,bottom:this.canvasSize.height/2+this.entityLocation_.y+this.entityBoundingBoxSize.height/2}},relationWirePointsPart1:function(){var t,e={},i=Object(s["a"])(this.entityData.source.RelationClaims);try{for(i.s();!(t=i.n()).done;){var n=t.value,o=this.targetRelSpots?this.targetRelSpots[n.To]:void 0;if(o){var a=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},r=(this.relationSpots.top+this.relationSpots.bottom)/2,c=(this.relationSpots.left+this.relationSpots.right)/2,l=(o.top+o.bottom)/2,d=(o.left+o.right)/2;o={left:{x:o.left,y:l},top:{x:d,y:o.top},right:{x:o.right,y:l},bottom:{x:d,y:o.bottom}};var h={left:{x:this.relationSpots.left,y:r},top:{x:c,y:this.relationSpots.top},right:{x:this.relationSpots.right,y:r},bottom:{x:c,y:this.relationSpots.bottom}},u=void 0,p=void 0;for(var g in o)for(var y in h){var v=a(o[g],h[y]);(void 0===u||v<u)&&(u=v,p={target:g,self:y})}e[n.To]=[h[p.self].x,h[p.self].y,o[p.target].x,o[p.target].y]}else e[n.To]=[0,0,0,0]}}catch(f){i.e(f)}finally{i.f()}return e},relationWirePoints:function(){var t=this,e={};return Object.entries(this.relationWirePointsPart1).forEach((function(i){var n=Object(a["a"])(i,2),o=n[0],s=n[1];e[o]=[s[0]+t.canvasLocation.x,s[1]+t.canvasLocation.y,s[2]+t.canvasLocation.x,s[3]+t.canvasLocation.y]})),e},relStageSize:function(){return this.canvasSize}},methods:{startdrag:function(t){if(([1].includes(t.which)||"touchstart"===t.type)&&!this.pressed.state){var e=this.$refs.entityContainer.getBoundingClientRect();"mousedown"===t.type?(this.draggingDeltas["x"]=t.clientX-e.x-this.canvasLocation.x,this.draggingDeltas["y"]=t.clientY-e.y-this.canvasLocation.y):"touchstart"==t.type&&(this.draggingDeltas["x"]=t.touches[0].clientX-e.x,this.draggingDeltas["y"]=t.touches[0].clientY-e.y),this.$emit("setStartingCanvasMousePos",t),this.$emit("entityActivated",t,this.entityID)}},getEntityData:function(){var t=this;f()({method:"GET",url:this.apiUrl+"/entity/get",params:{entityID:this.entityID},paramsSerializer:b.a.stringify}).then((function(e){t.entityData.source=e.data[0],t.entityData.viz_props=e.data[1].Data,t.$emit("setSelfRelSpots",t.relationSpots);var i,n=Object(s["a"])(t.entityData.source.RelationClaims);try{for(n.s();!(i=n.n()).done;){var o=i.value;t.$emit("assignTargetRelSpots",o.To)}}catch(a){n.e(a)}finally{n.f()}}))},savePropToAPI:function(t,e){var i=this;f()({method:"POST",baseURL:this.apiUrl,url:"/entity/updateProps/",params:{entityID:this.entityID},paramsSerializer:b.a.stringify,data:b.a.stringify({props:JSON.stringify(Object(r["a"])({},t,e))})}).then((function(){i.entityData.viz_props[t]=e instanceof Object?Object.assign({},e):e,i.autoSave&&f.a.post(i.apiUrl+"/collection/save")}))},updateEntityBoundaryBox:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;setTimeout((function(){var e=t.$refs.entityContainer.getBoundingClientRect();t.entityBoundingBoxSize={width:e.width,height:e.height},t.$emit("setSelfRelSpots",t.relationSpots)}),e)},editentityLabel:function(t){var e=this;this.editingLabel=!this.editingLabel,this.editingLabel&&setTimeout((function(){e.$refs.labelInput.focus()}),100)},toggleRelClaimMode:function(){this.relClaimMode.mode=!this.relClaimMode.mode,this.$store.commit("update_relClaimMode",{mode:this.relClaimMode.mode,targetID:this.relClaimMode.targetID,claimantID:this.entityID})},confirmRelClaimTarget:function(t){t.preventDefault(),!this.relClaimMode.mode&&this.$store.state.relClaimMode.mode&&(t.type,this.$store.commit("update_relClaimMode",{mode:!0,targetID:this.entityID,claimantID:this.$store.state.relClaimMode.claimantID}))},addRelClaim:function(){var t=this;f()({method:"POST",baseURL:this.apiUrl,url:"/entity/addRelClaim",data:b.a.stringify({claimantID:this.entityID,targetID:this.relClaimMode.targetID})}).then((function(e){t.relClaimMode.mode=!1,t.relClaimMode.targetID=null,t.$store.commit("update_relClaimMode",t.relClaimMode);var i=t.entityData;i.source.RelationClaims.push(JSON.parse(e.data.relClaim)),t.entityData=Object.assign({},i),t.$emit("assignTargetRelSpots",JSON.parse(e.data.relClaim).To)}))}},watch:{"dragging.state":function(){this.dragging.state},apiValidity:function(){},canvasLocation:{handler:function(){this.$emit("setSelfRelSpots",this.relationSpots)},deep:!0},entitySelected:{handler:function(){this.entitySelectedFinal=!!this.entitySelected},deep:!0},relationSpots:function(){this.$emit("setSelfRelSpots",this.relationSpots)},entitySelectedFinal:function(){this.apiValidity&&(S.a.isEqual(this.entitySelectedFinal,this.entityData.viz_props.selected)||this.savePropToAPI("selected",this.entitySelectedFinal))},entityLocation_:function(){this.$emit("setSelfRelSpots",this.relationSpots),this.dragging.state?this.entityLocation=Object.assign({},this.entityLocation_):this.apiValidity&&(S.a.isEqual(this.entityLocation_,this.entityData.viz_props.location)||S.a.isEqual(this.entityLocation_,this.entityLocationDef)&&!S.a.isEqual(this.entityLocationDef,this.entityData.viz_props.location)||this.savePropToAPI("location",this.entityLocation_))},"entityData.viz_props":function(){S.a.isEqual(this.entityLocation_,this.entityData.viz_props.location)||(this.entityLocation=Object.assign({},this.entityData.viz_props.location)),this.entityData.viz_props.selected!==this.entitySelectedFinal&&(void 0===this.entitySelectedDef&&(this.entitySelectedDef=this.entityData.viz_props.selected),this.entitySelectedDef&&this.$emit("prevActiveEntityID",this.entityID),this.entitySelectedFinal=this.entityData.viz_props.selected),S.a.isEqual(this.entityColor,this.entityData.viz_props.color)||(this.entityColor=Object.assign({},this.entityData.viz_props.color))},"entityData.source":function(){this.entityLabel=this.entityData.source.Label},entityLabel:function(){var t=this;this.updateEntityBoundaryBox(),this.$emit("setSelfRelSpots",this.relationSpots),this.apiValidity&&f()({method:"POST",url:this.apiUrl+"/entity/updateLabel",params:{entityID:this.entityID},paramsSerializer:b.a.stringify,data:b.a.stringify({Label:this.entityLabel})}).then((function(){c["default"].set(t.entityData.source,"Label",t.entityLabel),t.autoSave&&t.$axios.post(t.apiUrl+"/collection/save")}))},entityColor:{handler:function(){S.a.isEqual(this.entityColor,this.entityData.viz_props.color)||this.savePropToAPI("color",this.entityColor)},deep:!0},updateEntityData:function(){this.updateEntityData&&this.getEntityData()},pressed:{handler:function(){},deep:!0}},created:function(){},mounted:function(){var t=this;void 0!==this.entityID&&console.log("@ mounted ".concat(this.entityID)),this.getEntityData(),this.updateEntityBoundaryBox(0),this.$store.subscribe((function(e,i){t.relClaimMode.mode&&"update_relClaimMode"===e.type&&(t.relClaimMode.targetID=i.relClaimMode.targetID,null!==t.relClaimMode.targetID&&t.apiValidity&&t.addRelClaim(),i.relClaimMode.claimantID===t.entityID&&(t.relClaimMode.mode=i.relClaimMode.mode))}))},beforeUpdate:function(){},updated:function(){}},C=w,k=Object(p["a"])(C,n,o,!1,null,"34a6d478",null);e["default"]=k.exports}});